<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DNS Propagation Checker</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css" />
    <style>
      body { background: #f7f8fa; }
      .nameservers { font-size: 0.85rem; color: #6b7280; }
      .records { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; }
      .is-dimmed { color: #9ca3af; }
      .table td, .table th { vertical-align: top; }
      .status-tag { min-width: 7rem; justify-content: center; }
    </style>
  </head>
  <body>
    <section class="section">
      <div class="container">
        <h1 class="title">Global DNS Propagation Checker</h1>
        <p class="subtitle">
	  See how fast DNS changes reach major public resolvers. Enter a domain, pick a resolver list, and watch results stream in.
	  <br /><br />
	  Hint: You can also use the <a href="/docs" class="is-size-6">REST API</a>
	</p>

        <div class="box">
          <form id="checkerForm" method="get">
            <div class="columns is-variable is-4 is-multiline">
              <div class="column is-full-tablet is-half-desktop">
                <label class="label" for="domainInput">Domain name</label>
                <div class="control has-icons-left">
                  <input id="domainInput" name="domain" class="input" type="text" placeholder="example.com" autocomplete="off" required />
                  <span class="icon is-small is-left">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                      <path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10S2 17.514 2 12 6.486 2 12 2zm0 2c-.666 0-1.311.081-1.928.234.6.861 1.095 1.907 1.438 3.11H16.5A7.98 7.98 0 0 0 12 4zm-3.684.905A7.989 7.989 0 0 0 4 12c0 1.96.704 3.757 1.875 5.15.773-1.123 1.394-2.51 1.8-4.066H6.5a1 1 0 1 1 0-2h1.516c.193-.92.323-1.892.366-2.905H6.5a1 1 0 1 1 0-2h1.816c.104-.418.232-.81.372-1.174l.628-1.02zM12 20a7.98 7.98 0 0 0 4.5-1.344H13.51c-.343 1.203-.838 2.25-1.438 3.11.617.153 1.262.234 1.928.234zm5.625-2.85A7.99 7.99 0 0 0 20 12a7.99 7.99 0 0 0-1.625-5.15c-.773 1.123-1.394 2.51-1.8 4.066h1.213a1 1 0 1 1 0 2h-1.516c-.193.92-.323 1.892-.366 2.905h1.382a1 1 0 1 1 0 2h-1.816c-.104.418-.232.81-.372 1.174l-.628 1.02A7.989 7.989 0 0 0 18 18c-.001-.009-.001-.018-.001-.026z" />
                    </svg>
                  </span>
                </div>
              </div>
              <div class="column is-full-tablet is-one-quarter-desktop">
                <label class="label" for="providerList">Resolver list</label>
                <div class="select is-fullwidth">
                  <select id="providerList" name="list_id"></select>
                </div>
                <p id="providerDescription" class="help is-dimmed mt-1"></p>
              </div>
              <div class="column is-full-tablet is-one-quarter-desktop">
                <label class="label" for="transportSelect">Transport</label>
                <div class="select is-fullwidth">
                  <select id="transportSelect" name="transport">
		    {{TRANSPORT_OPTIONS}}
                  </select>
                </div>
                <p class="help is-dimmed mt-1">Automatic falls back to TCP when needed.</p>
              </div>
            </div>
            <div class="field is-grouped is-justify-content-flex-end mt-3">
              <p class="control">
                <button id="startButton" class="button is-primary" type="submit">Check propagation</button>
              </p>
              <p class="control">
                <button id="clearButton" class="button is-light" type="button">Clear results</button>
              </p>
            </div>
          </form>
        </div>

        <div id="alertArea"></div>

        <div class="table-container">
          <table class="table is-fullwidth is-striped" id="resultsTable">
            <thead>
              <tr>
                <th>Provider</th>
                <th>IPv4 (A)</th>
                <th>IPv6 (AAAA)</th>
                <th>Latency</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody id="resultsBody">
              <tr id="resultsEmpty">
                <td colspan="5" class="has-text-centered has-text-grey">
                  Results will appear here once a check starts.
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div id="summaryBox" class="box is-hidden">
          <h2 class="title is-5">Consensus</h2>
          <p class="mb-2">
            <strong>IPv4:</strong> <span id="consensusA" class="records is-dimmed">—</span>
          </p>
          <p>
            <strong>IPv6:</strong> <span id="consensusAAAA" class="records is-dimmed">—</span>
          </p>
        </div>
      </div>
    </section>

    <!-- JS_PLACEHOLDER -->

    <!-- Wasmer.io watermark -->
    <script src="https://watermark.wasmer.app/watermark.js?position=SE&margin=24&max-width=330&max-height=280&id=wasmer-logo&url=https%3A%2F%2Fcdn.wasmer.io%2Fwasmer-logo-white-v2.svg"></script>
  </body>
  </html>
